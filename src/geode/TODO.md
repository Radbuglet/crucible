# Geode To-Do List

- [ ] Obj:
  - [ ] Integrate with `Storages`.
  - [ ] Allow `Obj` to be extended with `&self` (this doesn't impact fetch lifetimes).
  - [ ] Allow `Obj` to expose computed parameters.
  - [ ] Allow `Obj` to expose smart-pointer-guarded components (maybe remove `Bump` entirely?).
  - [ ] Implement `ReadonlyObj` with contravariant flavor semantics.
- [ ] Cx:
  - [ ] Implement a separate tree for context temporaries and nodes.
  - [ ] Implement dependency suppliers.
- [ ] Events:
  - [ ] Multiplex event traits
  - [ ] Deferrable event traits
  - [ ] Common signal types
- [ ] ECS:
  - [ ] Fix up `World` spawning semantics (`spawn_now` interferes with `spawn_deferred`).
  - [ ] Fix up `MapStorage` API (there's too many things going on here).
  - [x] Make `FreeList` implementation a bit less unsafe and improve packing via `hibitsets`.
  - [ ] Fully implement `ArchStorage` flushing.
  - [ ] Implement `ArchStorage` APIs.
  - [ ] Implement partial `ArchStorage` flushing.
- [ ] Obj ECS integration:
  - [ ] Implement `ServiceManager`, a way to attach `Obj` to `Entities`.
  - [ ] Implement a thread-exclusive `RefCell`-tracked `ArchStorage`.
  - [ ] Implement a scheduler.
- [ ] Polish for release:
  - [ ] Write documentation.
  - [ ] Remove hard dependencies on atomics.
  - [ ] Write a copious amount of unit tests.
  - [ ] Code review:
    - [ ] Generic invariants checking (ensure that the program fails fast)
    - [ ] Aliasing rules
    - [ ] Numeric casts and memory semantics
